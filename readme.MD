# react-express-mysql-sequlize 도커 컴포저


## 준비

1. /config 에 .env.dev 와 .env.prod 를 추가하여 docker-compose config 에 활용되는 정보를 기입할 것.
2. /server/.env 에 Sequelize 에 들어가는 정보(/server/config/database.js) 를 기입할 것.

## 사용

개발서버에선 ./dev.sh, 실서버에선 ./prod.sh 를 실행하여 준다. 알아서 컨테이너가 띄워지면, client 와 server 의 소스를 개발 시작하면 된다.

## 유의사항

- **개발 과정에서 마이그레이션을 마쳐야 한다.** 실서버에서는 최종 마이그레이션 된 결과를 반영할 뿐이다. 따라서 undo 든 뭐든 다양한 명령을 개발서버에서 진행돼야 한다는 것이다.
- **복구하고 싶으면 새로운 마이그레이션을 수행하라.** undo 는 마이그레이션 재 적용을 위한 임시 히스토리 지우기용으로 사용해야 한다. 마지막 작업이 undo가 돼서는 안 된다. 실서버에서는 요 작업을 할 것이라 인식하기 때문이다. 예를들어, 필드 하나를 지우는 마이그레이션을 수행했다고 치자. 그런데 다시 복구하고 싶다. undo 를 하면 안된다는 것이다. 실서버에서는 undo를 모른 상태로 필드 하나가 지워진 것이 반영되기 때문이다. 복구하고 싶으면 마이그레이션을 새로 생성하라.
